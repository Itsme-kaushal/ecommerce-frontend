<app-header></app-header>

<div class="page-container">
  <h1>My Orders</h1>

  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
  </div>

  <div *ngIf="!loading" class="orders-list">
    <mat-card *ngFor="let order of orders" class="order-card">
      <mat-card-header>
        <mat-card-title>Order #{{ order.id }}</mat-card-title>
        <mat-card-subtitle>{{ order.createdAt | date:'medium' }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="order-info">
          <div class="info-item">
            <strong>Total:</strong> ${{ order.total_amount.toFixed(2) }}
          </div>
          <div class="info-item">
            <strong>Status:</strong>
            <mat-chip-set>
              <mat-chip [highlighted]="true">{{ order.status }}</mat-chip>
            </mat-chip-set>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <button mat-button color="primary" (click)="viewOrder(order.id)">View Details</button>
      </mat-card-actions>
    </mat-card>

    <div *ngIf="orders.length === 0" class="no-orders">
      <mat-icon>receipt_long</mat-icon>
      <p>No orders yet</p>
      <button mat-raised-button color="primary" routerLink="/products">Start Shopping</button>
    </div>
  </div>
</div>
